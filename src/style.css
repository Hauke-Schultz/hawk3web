:root {
  /* Font Size Scale - Default (Small) */
  --font-scale: 1;

  /* Typography Scale - wird durch font-scale multipliziert */
  --font-size-xxs: calc(0.625rem * var(--font-scale));
  --font-size-xs: calc(0.75rem * var(--font-scale));
  --font-size-sm: calc(0.875rem * var(--font-scale));
  --font-size-base: calc(1rem * var(--font-scale));
  --font-size-lg: calc(1.125rem * var(--font-scale));
  --font-size-xl: calc(1.25rem * var(--font-scale));
  --font-size-2xl: calc(1.5rem * var(--font-scale));
  --font-size-3xl: calc(1.875rem * var(--font-scale));
  --font-size-4xl: calc(2.25rem * var(--font-scale));

  /* Spacing System */
  --space-0: 0.125rem;         /* 2px */
  --space-1: 0.25rem;          /* 4px */
  --space-2: 0.5rem;           /* 8px */
  --space-3: 0.75rem;          /* 12px */
  --space-4: 1rem;             /* 16px - optimized for mobile touch */
  --space-5: 1.25rem;          /* 20px */
  --space-6: 1.5rem;           /* 24px */
  --space-8: 2rem;             /* 32px */
  --space-10: 2.5rem;          /* 40px */
  --space-12: 3rem;            /* 48px */
  --space-14: 3.5rem;          /* 56px */
  --space-16: 4rem;            /* 64px */

  /* Breakpoints */
  --breakpoint-sm: 480px;      /* Small devices, phones */
  --breakpoint-md: 768px;      /* Medium devices, tablets */
  --breakpoint-lg: 992px;      /* Large devices, small laptops */
  --breakpoint-xl: 1200px;     /* Extra large devices, laptops and desktops */

  /* Border Radius */
  --border-radius-sm: 0.25rem; /* 4px */
  --border-radius-md: 0.5rem;  /* 8px */
  --border-radius-lg: 0.75rem; /* 12px */
  --border-radius-xl: 1rem;    /* 16px */
  --border-radius-2xl: 1.5rem; /* 24px */

  /* Settings */
  --content-width: 375px;

  /* Touch Standards f√ºr 375px */
  --touch-target-min: 44px;     /* iOS/Android minimum */
  --touch-spacing: 8px;         /* Minimum spacing between touch targets */

  /* Font Settings */
  --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
  --font-line-height-base: 1.4;
  --font-line-height-small: 1;
  --font-weight-base: 400;
  --font-weight-bold: 700;

  /* Light Theme Colors (Default/Fallback) */
  --bg-color: #f8f9fa;
  --bg-secondary: #e9ecef;
  --bg-header: #ffffff;
  --text-color: #2d3436;
  --text-secondary: #636e72;
  --text-muted: #b2bec3;

  --card-bg: #ffffff;
  --card-bg-hover: #f1f3f4;
  --card-border: #afb1b3;
  --card-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.1);
  --card-shadow-hover: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);

  /* Color highlight */
  --highlight-yellow-background: linear-gradient(135deg, #f59e0b, #fbbf24);
  --highlight-blue-background: linear-gradient(135deg, #3b82f6, #60a5fa);
  --highlight-green-background: linear-gradient(135deg, #10b981, #34d399);
  --highlight-red-background: linear-gradient(135deg, #ef4444, #f87171);
  --highlight-purple-background: linear-gradient(135deg, #8b5cf6, #a78bfa);

  --highlight-yellow-box-shadow: 0 0.5rem 2rem rgba(139, 92, 246, 0.5);
  --highlight-blue-box-shadow: 0 0.5rem 2rem rgba(59, 130, 246, 0.5);
  --highlight-green-box-shadow: 0 0.5rem 2rem rgba(16, 185, 129, 0.5);
  --highlight-red-box-shadow: 0 0.5rem 2rem rgba(239, 68, 68, 0.5);
  --highlight-purple-box-shadow: 0 0.5rem 2rem rgba(139, 92, 246, 0.5);

  /* Interactive Colors - Base Palette */
  --primary-color: #4F46E5;
  --primary-hover: #4338CA;
  --primary-active: #3730A3;

  --success-color: #10B981;
  --success-hover: #059669;
  --success-active: #047857;

  --warning-color: #F59E0B;
  --warning-hover: #D97706;
  --warning-active: #B45309;

  --info-color: #6B7280;
  --info-hover: #4B5563;
  --info-active: #374151;

  --error-color: #EF4444;
  --error-hover: #F44336;
  --error-light: rgba(239, 68, 68, 0.2);

  /* Extended Color Palette - New Colors */
  --danger-color: #DC2626;
  --danger-hover: #B91C1C;
  --danger-active: #991B1B;

  --secondary-color: #8B5CF6;
  --secondary-hover: #7C3AED;
  --secondary-active: #6D28D9;

  --teal-color: #14B8A6;
  --teal-hover: #0D9488;
  --teal-active: #0F766E;

  --orange-color: #F97316;
  --orange-hover: #EA580C;
  --orange-active: #C2410C;

  --pink-color: #EC4899;
  --pink-hover: #DB2777;
  --pink-active: #BE185D;

  /* Button Colors */
  --button-bg: var(--primary-color);
  --button-bg-hover: var(--primary-hover);
  --button-text: #ffffff;
  --button-ghost-text: var(--primary-color);
  --button-ghost-border: var(--primary-color);
  --button-ghost-bg-hover: rgba(79, 70, 229, 0.1);

  /* Gradient Button */
  --button-gradient-start: #4338CA;
  --button-gradient-end: #6366F1;

  /* Focus States */
  --focus-outline: 0.125rem solid var(--primary-color);
  --focus-shadow: 0 0 0 0.25rem rgba(79, 70, 229, 0.25);

  /* Utility Colors */
  --grey-color: #b2bec3;
  --grey-light: #ddd;
  --grey-dark: #636e72;
  --white: #ffffff;
  --black: #2d3436;

  /* Level/Badge Colors */
  --level-bg: var(--card-bg);
  --level-border: var(--card-border);
  --level-text: var(--text-color);
}

/* Font Size Variants */
[data-font-size="small"] {
  --font-scale: 1; /* 100% - Default */
}

[data-font-size="medium"] {
  --font-scale: 1.125; /* 112.5% */
}

[data-font-size="large"] {
  --font-scale: 1.25; /* 125% */
}

[data-theme="dark"] {
  /* Dark Theme Colors - Based on SVG Design */
  --bg-color: #0F0F0F;
  --bg-secondary: #1A1A1A;
  --bg-header: #1A1A1A;
  --text-color: #ffffff;
  --text-secondary: #E0E7FF;
  --text-muted: #9CA3AF;

  /* Card System from SVG */
  --card-bg: #2A2A2A;
  --card-bg-hover: #323232;
  --card-border: #3A3A3A;
  --card-shadow: 0 0.25rem 0.375rem rgba(0, 0, 0, 0.4);
  --card-shadow-hover: 0 0.5rem 1rem rgba(0, 0, 0, 0.6);

  /* Interactive Colors from SVG */
  --primary-color: #4F46E5;
  --primary-hover: #6366F1;
  --primary-active: #4338CA;

  --success-color: #10B981;
  --success-hover: #34D399;
  --success-active: #059669;

  --warning-color: #F59E0B;
  --warning-hover: #FBBF24;
  --warning-active: #D97706;

  --info-color: #6B7280;
  --info-hover: #9CA3AF;
  --info-active: #4B5563;

  /* Status Colors */
  --error-color: #EF4444;
  --error-hover: #F87171;
  --error-light: rgba(239, 68, 68, 0.2);

  --danger-color: #DC2626;
  --danger-hover: #EF4444;
  --danger-active: #B91C1C;

  --secondary-color: #8B5CF6;
  --secondary-hover: #A78BFA;
  --secondary-active: #7C3AED;

  --teal-color: #14B8A6;
  --teal-hover: #2DD4BF;
  --teal-active: #0D9488;

  --orange-color: #F97316;
  --orange-hover: #FB923C;
  --orange-active: #EA580C;

  --pink-color: #EC4899;
  --pink-hover: #F472B6;
  --pink-active: #DB2777;

  /* Button Colors */
  --button-bg: var(--primary-color);
  --button-bg-hover: var(--primary-hover);
  --button-text: #ffffff;
  --button-ghost-text: var(--white);
  --button-ghost-border: var(--white);
  --button-ghost-bg-hover: rgba(99, 102, 241, 0.1);

  /* Gradient Button */
  --button-gradient-start: #4433FF;
  --button-gradient-end: #7733EE;

  /* Focus States */
  --focus-outline: 0.125rem solid var(--primary-hover);
  --focus-shadow: 0 0 0 0.25rem rgba(99, 102, 241, 0.3);

  /* Utility Colors */
  --grey-color: #6B7280;
  --grey-light: #9CA3AF;
  --grey-dark: #374151;

  /* Level/Badge Colors for dark theme */
  --level-bg: var(--card-bg);
  --level-border: var(--card-border);
  --level-text: var(--text-color);
  --level-number-color: #ffffff;
  --level-star-color: var(--warning-color);
}

/* Base Styles */
html {
  font-size: 100%;
  box-sizing: border-box;
}

*, *:before, *:after {
  box-sizing: inherit;
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-base), sans-serif;
  background: var(--bg-color);
  color: var(--text-color);
  transition: background-color 0.3s, color 0.3s;
  line-height: var(--font-line-height-base);
}

/* Focus States */
:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 0.25rem;
  box-shadow: var(--focus-shadow);
}

/* Accessibility */
.visually-hidden {
  position: absolute;
  width: 0.0625rem;
  height: 0.0625rem;
  padding: 0;
  margin: -0.0625rem;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Base Button Styles */
.btn {
  background-color: var(--button-bg);
  color: var(--button-text);
  border: none;
  border-radius: var(--border-radius-md);
  padding: var(--space-3) var(--space-4);
  font-size: var(--font-size-base);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  gap: var(--space-2);
  font-family: var(--font-family-base), sans-serif;
}
.btn:hover {
  background-color: var(--button-bg-hover);
  box-shadow: var(--focus-shadow);
}
.btn:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 0.25rem;
  box-shadow: var(--focus-shadow);
}
.btn:active {
  transform: translateY(0.0625rem);
}
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
.btn:disabled:hover {
  background-color: var(--button-bg);
  box-shadow: none;
}

.btn--gradient {
  color: var(--white);
  background: linear-gradient(135deg, var(--button-gradient-start), var(--button-gradient-end));
}
.btn--gradient:hover {
  background: linear-gradient(135deg, var(--button-gradient-start), var(--button-gradient-end));
  opacity: 0.9;
}

.btn--primary {
  color: var(--white);
  background-color: var(--primary-color);
}
.btn--primary:hover {
  background-color: var(--primary-hover);
}

.btn--success {
  color: var(--white);
  background-color: var(--success-color);
}
.btn--success:hover {
  background-color: var(--success-hover);
}

.btn--warning {
  color: var(--white);
  background-color: var(--warning-color);
}
.btn--warning:hover {
  background-color: var(--warning-hover);
}

.btn--info {
  color: var(--white);
  background-color: var(--info-color);
}
.btn--info:hover {
  background-color: var(--info-hover);
}

.btn--secondary {
  color: var(--white);
  background-color: var(--secondary-color);
}
.btn--secondary:hover {
  background-color: var(--secondary-hover);
}

.btn--teal {
  color: var(--white);
  background-color: var(--teal-color);
}
.btn--teal:hover {
  background-color: var(--teal-hover);
}

.btn--orange {
  color: var(--white);
  background-color: var(--orange-color);
}
.btn--orange:hover {
  background-color: var(--orange-hover);
}

.btn--pink {
  color: var(--white);
  background-color: var(--pink-color);
}
.btn--pink:hover {
  background-color: var(--pink-hover);
}

.btn--ghost {
  background-color: transparent;
  color: var(--button-ghost-text);
  border: 0.0625rem solid var(--button-ghost-border);
}
.btn--ghost:hover {
  background-color: var(--button-ghost-bg-hover);
  box-shadow: none;
}

.btn--small {
  padding: var(--space-1) var(--space-3);
  font-size: var(--font-size-sm);
}

.btn--large {
  padding: var(--space-3) var(--space-6);
  font-size: var(--font-size-lg);
}

.btn--circle {
  border: none;
  border-radius: var(--space-8);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2);
  min-width: var(--space-12);
  height: var(--space-12);
}

.btn--circle-ghost {
  position: relative;
  border-radius: var(--space-8);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2);
  min-width: var(--space-12);
  height: var(--space-12);
  background-color: transparent;
  color: var(--button-ghost-text);
  border: 0.0625rem solid var(--button-ghost-border);
}
.btn--circle-ghost:hover {
  background-color: var(--button-ghost-bg-hover);
}

.btn--danger {
  color: var(--white);
  background-color: var(--danger-color);
}
.btn--danger:hover {
  background-color: var(--danger-hover);
  box-shadow:  0 0 0 0.25rem rgba(220, 38, 38, 0.25);
}

.btn--lock {
  background-color: var(--info-color);
  color: white;
  transition: all 0.3s ease;
}
.btn--lock:hover {
  background-color: var(--info-hover);
  box-shadow:  0 0 0 0.25rem rgba(107, 114, 128, 0.25);
}

.btn--unlock {
  background-color: var(--warning-color);
  color: var(--white);
}
.btn--unlock:hover {
  background-color: var(--warning-hover);
  box-shadow:  0 0 0 0.25rem rgba(245, 158, 11, 0.25);
}

.btn--delete {
  background-color: var(--info-color);
  color: var(--white);
  opacity: 0.5;
  cursor: not-allowed;
}
.btn--delete:hover {
  background-color: var(--info-color);
  box-shadow:  0 0 0 0.25rem rgba(107, 114, 128, 0.25);
}

.btn--delete-active {
  background-color: var(--error-color);
  color: var(--white);
  opacity: 1;
  cursor: pointer;
}
.btn--delete-active:hover {
  background-color: var(--error-hover);
  box-shadow:  0 0 0 0.25rem rgba(239, 68, 68, 0.25);
}

/* Card Base Styles */
.card {
  background-color: var(--card-bg);
  border-radius: var(--border-radius-lg);
  border: 1px solid var(--card-border);
  transition: all 0.2s ease;
  cursor: pointer;
}

.card:active,
.card:hover {
  background-color: var(--card-bg-hover);
  box-shadow: var(--card-shadow-hover);
}

/* Icon buttons */
.icon-btn {
  width: var(--space-14);
  height: var(--space-14);
  border-radius: 50%;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  font-size: var(--font-size-lg);
  color: var(--white);
}

/* Header specific styles */
.header-text {
  color: var(--text-color);
  font-weight: var(--font-weight-bold);
}

.secondary-text {
  color: var(--text-secondary);
}

.muted-text {
  color: var(--text-muted);
}

.notification-badge {
  background-color: var(--error-color);
  color: var(--white);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-bold);
  position: absolute;
  top: calc(-1 * var(--space-2));
  right: calc(-1 * var(--space-2));
  padding: var(--space-0) var(--space-1);
  border-radius: 50%;
  min-width: var(--space-5);
  height: var(--space-5);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Touch-specific feedback */
@media (hover: none) {
  .card:hover {
    background-color: var(--card-bg-hover);
    box-shadow: var(--card-shadow-hover);
  }

  .btn:hover {
    background-color: var(--button-bg-hover);
    box-shadow: var(--focus-shadow);
  }

  .btn--ghost:hover {
    background-color: var(--button-ghost-bg-hover);
    box-shadow: none;
  }

  .btn--primary:hover {
    background-color: var(--primary-hover);
  }

  .btn--success:hover {
    background-color: var(--success-hover);
  }

  .btn--warning:hover {
    background-color: var(--warning-hover);
  }

  .btn--info:hover {
    background-color: var(--info-hover);
  }

  .btn--secondary:hover {
    background-color: var(--secondary-hover);
  }

  .btn--teal:hover {
    background-color: var(--teal-hover);
  }

  .btn--orange:hover {
    background-color: var(--orange-hover);
  }

  .btn--pink:hover {
    background-color: var(--pink-hover);
  }

  .btn--danger:hover {
    background-color: var(--danger-hover);
  }
}